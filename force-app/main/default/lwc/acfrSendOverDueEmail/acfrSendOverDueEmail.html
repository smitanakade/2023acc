<template>
	<div class="slds-p-around_medium">
    <lightning-button variant="brand" label="Late Submission Email" title="Late Submission Email" onclick={handleOpen}></lightning-button>
  </div>
  <div class="slds-m-around_xx-large">
    <!--Use aura:if tag to display/hide popup based on isModalOpen value-->
    <template if:true={isModalOpen}>
      <!-- Modal/Popup Box starts here-->
      <section role="dialog" tabindex="-1" aria-labelledby="modal-heading-01" aria-modal="true" aria-describedby="modal-content-id-1" class="slds-modal slds-fade-in-open">
        <div class="slds-modal__container">
          <!-- Modal/Popup Box Header Starts here-->
          <header class="slds-modal__header">
            <lightning-button-icon icon-name="utility:close" onclick={handleClose} alternative-text="close" variant="bare-inverse" class="slds-modal__close"></lightning-button-icon>
            <h2 id="modal-heading-01" class="slds-text-heading_medium slds-hyphenate">Late Submission Email Confirmation</h2>
          </header>
          <!--Modal/Popup Box Body Starts here-->
          <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-1" if:true={displayFirstOverdue}>
            <p>You are about to send the First overdue notice to {recordFirstCount} approved providers. Do you wish to continue?</p>
          </div>
          <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-2" if:true={displayFinalOverdue}>
            <p>You are about to send the Final overdue notice to {recordFinalCount} approved providers. Do you wish to continue?</p>
          </div>
          <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-3" if:false={displayFirstOverdue}>
            <div class="slds-modal__content slds-p-around_medium" id="modal-content-id-3.1" if:false={displayFinalOverdue}>
            <p>There are no Approved Providers to send an Overdue Notice email.</p>
          </div>
          </div>
          
          <!--Modal/Popup Box Footer Starts here-->
          <footer class="slds-modal__footer">
            <lightning-button class="slds-p-right_x-small"  variant="neutral" label="Cancel" title="Cancel" onclick={handleClose}></lightning-button>
            <lightning-button variant="brand" label="Confirm" title="Confirm" onclick={handleSubmitdetails} if:true={providersFound}></lightning-button>
          </footer>
        </div>
      </section>
      <div class="slds-backdrop slds-backdrop_open"></div>
    </template>
  </div>
</template>