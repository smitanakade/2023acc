<template>
	<div class="slds-grid slds-wrap slds-is-relative">
		<div style="position: fixed; z-index: 999999; top: 0; right: 0">
			<omnistudio-toast
				class="flexcard-toast-element"
				theme="slds"
				title=""
				message=""
				styletype=""
			>
			</omnistudio-toast>
		</div>
		<div
			if:true={showLoader}
			class="slds-is-absolute vloc-loader_override"
			style="
				height: 100%;
				width: 100%;
				min-height: 50px;
				background: transparent;
				z-index: 99;
			"
		>
			<div>
				<omnistudio-spinner
					variant="brand"
					alternative-text="Loading content..."
					size="medium"
					theme="slds"
				></omnistudio-spinner>
			</div>
		</div>
		<template if:false={hasPermission}>
			You don't have required permissions to view this card.
		</template>
		<template if:true={hasPermission}>
			<template if:true={hasRecords}>
				<template for:each={_records} for:item="record" for:index="rindex">
					<omnistudio-flex-card-state
						if:true={record}
						key={record._flex.uniqueKey}
						data-recordid={record.Id}
						record={record}
						data-statue="true"
						data-index="0"
						data-rindex={rindex}
						class="cf-vlocity-state-0 cf-vlocity-state slds-size_12-of-12"
						tracking-obj={_childCardTrackingObj}
					>
						<div
							if:true={cardLoaded}
							class="slds-grid slds-wrap slds-card background slds-p-around_x-small slds-m-around_none"
							style="height: 24em"
						>
							<div
								data-style-id="state0element0"
								class="slds-col slds-p-around_x-small slds-size_12-of-12"
								data-rindex={rindex}
								style=""
							>
								<omnistudio-block
									data-style-id="state0element0_child"
									record={record}
									card={card}
									collapsed-by-default="false"
									collapsible="false"
									label="Block"
									theme="slds"
									><div class="slds-grid slds-wrap">
										<div
											data-style-id="state0element0block_element0"
											class="slds-col header-text slds-size_6-of-12"
											data-rindex={rindex}
											style=""
										>
											<omnistudio-output-field
												data-style-id="state0element0block_element0_child"
												record={record}
												card={card}
												merge-field="%3Ch5%3E%3Cspan%20style=%22font-family:%20'Salesforce%20Sans',%20Arial,%20sans-serif;%22%3EQuarterly%20Financial%20Report%20(QFR)%3C/span%3E%3C/h5%3E"
												theme="slds"
											></omnistudio-output-field>
										</div>
										<div
											data-style-id="state0element0block_element1"
											class="slds-col slds-p-around_x-small slds-size_6-of-12"
											data-rindex={rindex}
											style=""
										>
											<omnistudio-block
												data-style-id="state0element0block_element1_child"
												record={record}
												card={card}
												collapsed-by-default="false"
												collapsible="false"
												label="Block"
												theme="slds"
												><div class="slds-grid slds-wrap">
													<div
														data-style-id="state0element0block_element1block_element0"
														class="slds-col slds-p-around_x-small slds-size_12-of-12"
														data-rindex={rindex}
														style=""
													>
														<omnistudio-block
															data-style-id="state0element0block_element1block_element0_child"
															record={record}
															card={card}
															collapsed-by-default="false"
															collapsible="false"
															label="Block"
															theme="slds"
															><div class="slds-grid slds-wrap">
																<div
																	data-style-id="state0element0block_element1block_element0block_element0"
																	class="slds-col slds-size_12-of-12"
																	data-rindex={rindex}
																	style=""
																>
																	<omnistudio-flex-action
																		data-style-id="state0element0block_element1block_element0block_element0_child"
																		tracking-obj={_childCardTrackingObj}
																		class="state0element0block_element1block_element0block_element0_child flexActionElement"
																		data-action-element-class="state0element0block_element1block_element0block_element0_child"
																		onexecuteaction={performAction}
																		data-show-spinner="false"
																		data-element-label="block1block1action3"
																		state-obj={record}
																		record={record}
																		card={card}
																		action-list='\[{"actionIndex":0,"draggable":false,"isOpen":true,"key":"1666924742127-h33l3qywq","label":"Action","stateAction":{"Web Page":{"targetName":"https://www.health.gov.au/resources/collections/quarterly-financial-report-resources#reporting-guidance"},"id":"flex-action-1682567181382","openUrlIn":"New Tab/Window","targetType":"Web Page","type":"Custom"}}]'
																		flyout-details="\{}"
																		icon-name="doctype:pdf"
																		label="Reporting Guidance"
																		theme="slds"
																	></omnistudio-flex-action>
																</div></div
														></omnistudio-block>
													</div>
													<div
														data-style-id="state0element0block_element1block_element1"
														class="slds-col slds-p-around_x-small slds-size_12-of-12"
														data-rindex={rindex}
														style=""
													>
														<omnistudio-block
															data-style-id="state0element0block_element1block_element1_child"
															record={record}
															card={card}
															collapsed-by-default="false"
															collapsible="false"
															label="Block"
															theme="slds"
															><div class="slds-grid slds-wrap">
																<div
																	data-style-id="state0element0block_element1block_element1block_element0"
																	class="slds-col slds-size_12-of-12"
																	data-rindex={rindex}
																	style=""
																>
																	<omnistudio-flex-action
																		data-style-id="state0element0block_element1block_element1block_element0_child"
																		tracking-obj={_childCardTrackingObj}
																		class="state0element0block_element1block_element1block_element0_child flexActionElement"
																		data-action-element-class="state0element0block_element1block_element1block_element0_child"
																		onexecuteaction={performAction}
																		data-show-spinner="false"
																		data-element-label="block1block1action4"
																		state-obj={record}
																		record={record}
																		card={card}
																		action-list='\[{"actionIndex":0,"draggable":false,"isOpen":true,"key":"1666924850301-9fev8w7mg","label":"Action","stateAction":{"Web Page":{"targetName":"https://www.health.gov.au/resources/collections/quarterly-financial-report-resources#policy-guidance"},"id":"flex-action-1682567192492","openUrlIn":"New Tab/Window","targetType":"Web Page","type":"Custom"}}]'
																		flyout-details="\{}"
																		icon-name="doctype:pdf"
																		label="Policy Guidance"
																		theme="slds"
																	></omnistudio-flex-action>
																</div></div
														></omnistudio-block>
													</div>
													<div
														data-style-id="state0element0block_element1block_element2"
														class="slds-col slds-p-around_x-small slds-size_12-of-12"
														data-rindex={rindex}
														style=""
													>
														<omnistudio-block
															data-style-id="state0element0block_element1block_element2_child"
															record={record}
															card={card}
															collapsed-by-default="false"
															collapsible="false"
															label="Block"
															theme="slds"
															><div class="slds-grid slds-wrap">
																<div
																	data-style-id="state0element0block_element1block_element2block_element0"
																	class="slds-col slds-size_12-of-12"
																	data-rindex={rindex}
																	style=""
																>
																	<omnistudio-flex-action
																		data-style-id="state0element0block_element1block_element2block_element0_child"
																		tracking-obj={_childCardTrackingObj}
																		class="state0element0block_element1block_element2block_element0_child flexActionElement"
																		data-action-element-class="state0element0block_element1block_element2block_element0_child"
																		onexecuteaction={performAction}
																		data-show-spinner="false"
																		data-element-label="block1block1action5"
																		state-obj={record}
																		record={record}
																		card={card}
																		action-list='\[{"actionIndex":0,"draggable":false,"isOpen":true,"key":"1666924913079-6zehsweez","label":"Action","stateAction":{"Web Page":{"targetName":"https://www.health.gov.au/resources/collections/quarterly-financial-report-resources#system-user-guidance"},"id":"flex-action-1682567199033","openUrlIn":"New Tab/Window","targetType":"Web Page","type":"Custom"}}]'
																		flyout-details="\{}"
																		icon-name="doctype:pdf"
																		label="System User Guidance"
																		theme="slds"
																	></omnistudio-flex-action>
																</div></div
														></omnistudio-block>
													</div>
													<div
														data-style-id="state0element0block_element1block_element3"
														class="slds-col slds-p-around_x-small slds-size_12-of-12"
														data-rindex={rindex}
														style=""
													>
														<omnistudio-block
															data-style-id="state0element0block_element1block_element3_child"
															record={record}
															card={card}
															collapsed-by-default="false"
															collapsible="false"
															label="Block"
															theme="slds"
															><div class="slds-grid slds-wrap">
																<div
																	data-style-id="state0element0block_element1block_element3block_element0"
																	class="slds-col slds-size_12-of-12"
																	data-rindex={rindex}
																	style=""
																>
																	<omnistudio-flex-action
																		data-style-id="state0element0block_element1block_element3block_element0_child"
																		tracking-obj={_childCardTrackingObj}
																		class="state0element0block_element1block_element3block_element0_child flexActionElement"
																		data-action-element-class="state0element0block_element1block_element3block_element0_child"
																		onexecuteaction={performAction}
																		data-show-spinner="false"
																		data-element-label="block1block1action7"
																		state-obj={record}
																		record={record}
																		card={card}
																		action-list='\[{"actionIndex":0,"draggable":false,"isOpen":true,"key":"1666925020734-fb1wxgpbg","label":"Action","stateAction":{"Web Page":{"targetName":"https://www.health.gov.au/resources/collections/quarterly-financial-report-resources#webinars"},"id":"flex-action-1682567205591","openUrlIn":"New Tab/Window","targetType":"Web Page","type":"Custom"}}]'
																		flyout-details="\{}"
																		icon-color="#000000"
																		icon-name="utility:video"
																		label="Webinars"
																		theme="slds"
																	></omnistudio-flex-action>
																</div></div
														></omnistudio-block>
													</div>
													<div
														data-style-id="state0element0block_element1block_element4"
														class="slds-col slds-p-around_x-small slds-size_12-of-12"
														data-rindex={rindex}
														style=""
													>
														<omnistudio-block
															data-style-id="state0element0block_element1block_element4_child"
															record={record}
															card={card}
															collapsed-by-default="false"
															collapsible="false"
															label="Block"
															theme="slds"
															><div class="slds-grid slds-wrap">
																<div
																	data-style-id="state0element0block_element1block_element4block_element0"
																	class="slds-col slds-size_12-of-12"
																	data-rindex={rindex}
																	style=""
																>
																	<omnistudio-flex-action
																		data-style-id="state0element0block_element1block_element4block_element0_child"
																		tracking-obj={_childCardTrackingObj}
																		class="state0element0block_element1block_element4block_element0_child flexActionElement"
																		data-action-element-class="state0element0block_element1block_element4block_element0_child"
																		onexecuteaction={performAction}
																		data-show-spinner="false"
																		data-element-label="block1block1action10"
																		state-obj={record}
																		record={record}
																		card={card}
																		action-list='\[{"actionIndex":0,"draggable":false,"isOpen":true,"key":"1666925333963-v6rroojur","label":"Action","stateAction":{"Web Page":{"targetName":"Care minutes and 24/7 registered nurses in residential aged care | Australian Government Department of Health and Aged Care"},"id":"flex-action-1682567212655","openUrlIn":"New Tab/Window","targetType":"Web Page","type":"Custom"}}]'
																		flyout-details="\{}"
																		icon-name="doctype:pdf"
																		label="Care Minutes Reporting Resources"
																		theme="slds"
																	></omnistudio-flex-action>
																</div></div
														></omnistudio-block>
													</div></div
											></omnistudio-block>
										</div></div
								></omnistudio-block>
							</div>
						</div>
					</omnistudio-flex-card-state>
				</template>
			</template>
			<template if:false={hasRecords}>
				<omnistudio-flex-card-state
					record={record}
					data-statue="false"
					data-index="0"
					data-rindex={rindex}
					class="cf-vlocity-state-0 cf-vlocity-state slds-size_12-of-12"
					tracking-obj={_childCardTrackingObj}
				>
					<div
						if:true={cardLoaded}
						class="slds-grid slds-wrap slds-card background slds-p-around_x-small slds-m-around_none"
						style="height: 24em"
					>
						<div
							data-style-id="state0element0"
							class="slds-col slds-p-around_x-small slds-size_12-of-12"
							data-rindex={rindex}
							style=""
						>
							<omnistudio-block
								data-style-id="state0element0_child"
								record={record}
								card={card}
								collapsed-by-default="false"
								collapsible="false"
								label="Block"
								theme="slds"
								><div class="slds-grid slds-wrap">
									<div
										data-style-id="state0element0block_element0"
										class="slds-col header-text slds-size_6-of-12"
										data-rindex={rindex}
										style=""
									>
										<omnistudio-output-field
											data-style-id="state0element0block_element0_child"
											record={record}
											card={card}
											merge-field="%3Ch5%3E%3Cspan%20style=%22font-family:%20'Salesforce%20Sans',%20Arial,%20sans-serif;%22%3EQuarterly%20Financial%20Report%20(QFR)%3C/span%3E%3C/h5%3E"
											theme="slds"
										></omnistudio-output-field>
									</div>
									<div
										data-style-id="state0element0block_element1"
										class="slds-col slds-p-around_x-small slds-size_6-of-12"
										data-rindex={rindex}
										style=""
									>
										<omnistudio-block
											data-style-id="state0element0block_element1_child"
											record={record}
											card={card}
											collapsed-by-default="false"
											collapsible="false"
											label="Block"
											theme="slds"
											><div class="slds-grid slds-wrap">
												<div
													data-style-id="state0element0block_element1block_element0"
													class="slds-col slds-p-around_x-small slds-size_12-of-12"
													data-rindex={rindex}
													style=""
												>
													<omnistudio-block
														data-style-id="state0element0block_element1block_element0_child"
														record={record}
														card={card}
														collapsed-by-default="false"
														collapsible="false"
														label="Block"
														theme="slds"
														><div class="slds-grid slds-wrap">
															<div
																data-style-id="state0element0block_element1block_element0block_element0"
																class="slds-col slds-size_12-of-12"
																data-rindex={rindex}
																style=""
															>
																<omnistudio-flex-action
																	data-style-id="state0element0block_element1block_element0block_element0_child"
																	tracking-obj={_childCardTrackingObj}
																	class="state0element0block_element1block_element0block_element0_child flexActionElement"
																	data-action-element-class="state0element0block_element1block_element0block_element0_child"
																	onexecuteaction={performAction}
																	data-show-spinner="false"
																	data-element-label="block1block1action3"
																	state-obj={record}
																	record={record}
																	card={card}
																	action-list='\[{"actionIndex":0,"draggable":false,"isOpen":true,"key":"1666924742127-h33l3qywq","label":"Action","stateAction":{"Web Page":{"targetName":"https://www.health.gov.au/resources/collections/quarterly-financial-report-resources#reporting-guidance"},"id":"flex-action-1682567181382","openUrlIn":"New Tab/Window","targetType":"Web Page","type":"Custom"}}]'
																	flyout-details="\{}"
																	icon-name="doctype:pdf"
																	label="Reporting Guidance"
																	theme="slds"
																></omnistudio-flex-action>
															</div></div
													></omnistudio-block>
												</div>
												<div
													data-style-id="state0element0block_element1block_element1"
													class="slds-col slds-p-around_x-small slds-size_12-of-12"
													data-rindex={rindex}
													style=""
												>
													<omnistudio-block
														data-style-id="state0element0block_element1block_element1_child"
														record={record}
														card={card}
														collapsed-by-default="false"
														collapsible="false"
														label="Block"
														theme="slds"
														><div class="slds-grid slds-wrap">
															<div
																data-style-id="state0element0block_element1block_element1block_element0"
																class="slds-col slds-size_12-of-12"
																data-rindex={rindex}
																style=""
															>
																<omnistudio-flex-action
																	data-style-id="state0element0block_element1block_element1block_element0_child"
																	tracking-obj={_childCardTrackingObj}
																	class="state0element0block_element1block_element1block_element0_child flexActionElement"
																	data-action-element-class="state0element0block_element1block_element1block_element0_child"
																	onexecuteaction={performAction}
																	data-show-spinner="false"
																	data-element-label="block1block1action4"
																	state-obj={record}
																	record={record}
																	card={card}
																	action-list='\[{"actionIndex":0,"draggable":false,"isOpen":true,"key":"1666924850301-9fev8w7mg","label":"Action","stateAction":{"Web Page":{"targetName":"https://www.health.gov.au/resources/collections/quarterly-financial-report-resources#policy-guidance"},"id":"flex-action-1682567192492","openUrlIn":"New Tab/Window","targetType":"Web Page","type":"Custom"}}]'
																	flyout-details="\{}"
																	icon-name="doctype:pdf"
																	label="Policy Guidance"
																	theme="slds"
																></omnistudio-flex-action>
															</div></div
													></omnistudio-block>
												</div>
												<div
													data-style-id="state0element0block_element1block_element2"
													class="slds-col slds-p-around_x-small slds-size_12-of-12"
													data-rindex={rindex}
													style=""
												>
													<omnistudio-block
														data-style-id="state0element0block_element1block_element2_child"
														record={record}
														card={card}
														collapsed-by-default="false"
														collapsible="false"
														label="Block"
														theme="slds"
														><div class="slds-grid slds-wrap">
															<div
																data-style-id="state0element0block_element1block_element2block_element0"
																class="slds-col slds-size_12-of-12"
																data-rindex={rindex}
																style=""
															>
																<omnistudio-flex-action
																	data-style-id="state0element0block_element1block_element2block_element0_child"
																	tracking-obj={_childCardTrackingObj}
																	class="state0element0block_element1block_element2block_element0_child flexActionElement"
																	data-action-element-class="state0element0block_element1block_element2block_element0_child"
																	onexecuteaction={performAction}
																	data-show-spinner="false"
																	data-element-label="block1block1action5"
																	state-obj={record}
																	record={record}
																	card={card}
																	action-list='\[{"actionIndex":0,"draggable":false,"isOpen":true,"key":"1666924913079-6zehsweez","label":"Action","stateAction":{"Web Page":{"targetName":"https://www.health.gov.au/resources/collections/quarterly-financial-report-resources#system-user-guidance"},"id":"flex-action-1682567199033","openUrlIn":"New Tab/Window","targetType":"Web Page","type":"Custom"}}]'
																	flyout-details="\{}"
																	icon-name="doctype:pdf"
																	label="System User Guidance"
																	theme="slds"
																></omnistudio-flex-action>
															</div></div
													></omnistudio-block>
												</div>
												<div
													data-style-id="state0element0block_element1block_element3"
													class="slds-col slds-p-around_x-small slds-size_12-of-12"
													data-rindex={rindex}
													style=""
												>
													<omnistudio-block
														data-style-id="state0element0block_element1block_element3_child"
														record={record}
														card={card}
														collapsed-by-default="false"
														collapsible="false"
														label="Block"
														theme="slds"
														><div class="slds-grid slds-wrap">
															<div
																data-style-id="state0element0block_element1block_element3block_element0"
																class="slds-col slds-size_12-of-12"
																data-rindex={rindex}
																style=""
															>
																<omnistudio-flex-action
																	data-style-id="state0element0block_element1block_element3block_element0_child"
																	tracking-obj={_childCardTrackingObj}
																	class="state0element0block_element1block_element3block_element0_child flexActionElement"
																	data-action-element-class="state0element0block_element1block_element3block_element0_child"
																	onexecuteaction={performAction}
																	data-show-spinner="false"
																	data-element-label="block1block1action7"
																	state-obj={record}
																	record={record}
																	card={card}
																	action-list='\[{"actionIndex":0,"draggable":false,"isOpen":true,"key":"1666925020734-fb1wxgpbg","label":"Action","stateAction":{"Web Page":{"targetName":"https://www.health.gov.au/resources/collections/quarterly-financial-report-resources#webinars"},"id":"flex-action-1682567205591","openUrlIn":"New Tab/Window","targetType":"Web Page","type":"Custom"}}]'
																	flyout-details="\{}"
																	icon-color="#000000"
																	icon-name="utility:video"
																	label="Webinars"
																	theme="slds"
																></omnistudio-flex-action>
															</div></div
													></omnistudio-block>
												</div>
												<div
													data-style-id="state0element0block_element1block_element4"
													class="slds-col slds-p-around_x-small slds-size_12-of-12"
													data-rindex={rindex}
													style=""
												>
													<omnistudio-block
														data-style-id="state0element0block_element1block_element4_child"
														record={record}
														card={card}
														collapsed-by-default="false"
														collapsible="false"
														label="Block"
														theme="slds"
														><div class="slds-grid slds-wrap">
															<div
																data-style-id="state0element0block_element1block_element4block_element0"
																class="slds-col slds-size_12-of-12"
																data-rindex={rindex}
																style=""
															>
																<omnistudio-flex-action
																	data-style-id="state0element0block_element1block_element4block_element0_child"
																	tracking-obj={_childCardTrackingObj}
																	class="state0element0block_element1block_element4block_element0_child flexActionElement"
																	data-action-element-class="state0element0block_element1block_element4block_element0_child"
																	onexecuteaction={performAction}
																	data-show-spinner="false"
																	data-element-label="block1block1action10"
																	state-obj={record}
																	record={record}
																	card={card}
																	action-list='\[{"actionIndex":0,"draggable":false,"isOpen":true,"key":"1666925333963-v6rroojur","label":"Action","stateAction":{"Web Page":{"targetName":"Care minutes and 24/7 registered nurses in residential aged care | Australian Government Department of Health and Aged Care"},"id":"flex-action-1682567212655","openUrlIn":"New Tab/Window","targetType":"Web Page","type":"Custom"}}]'
																	flyout-details="\{}"
																	icon-name="doctype:pdf"
																	label="Care Minutes Reporting Resources"
																	theme="slds"
																></omnistudio-flex-action>
															</div></div
													></omnistudio-block>
												</div></div
										></omnistudio-block>
									</div></div
							></omnistudio-block>
						</div>
					</div>
				</omnistudio-flex-card-state>
			</template>
		</template>
		<template if:true={hasError}> {error} </template>

		<omnistudio-action
			action-wrapperclass="slds-hide"
			re-render-flyout
			class="action-trigger slds-col"
			onupdateos={updateOmniscript}
			onselectcards={updateSelectedCards}
			onsetvalue={updateAction}
			onfireactionevent={actionEvtHandler}
		>
		</omnistudio-action>

		<omnistudio-action
			class="execute-action"
			re-render-flyout
			action-wrapperclass="slds-hide"
			onupdateos={updateOmniscript}
			onselectcards={updateSelectedCards}
			onsetvalue={updateAction}
			onfireactionevent={actionEvtHandler}
		>
		</omnistudio-action>
	</div>
</template>
